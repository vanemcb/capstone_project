{"ast":null,"code":"import _regeneratorRuntime from\"/root/capstone_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/root/capstone_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/root/capstone_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import PopoverCompanies from\"./PopoverCompanies\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ToggleCompanies=function ToggleCompanies(_ref){var setDicCompany=_ref.setDicCompany,setPosition=_ref.setPosition;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),companies=_useState2[0],setCompanies=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleClickButton=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setPosition(\"\");_context.next=3;return getInfo(e.target.value);case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleClickButton(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){fetch(\"http://localhost:5000/by_company\").then(function(response){if(response.ok){return response.json();}throw response;}).then(function(data){setCompanies(data);}).catch(function(error){console.error(\"Error fetching data: \",error);setError(error);}).finally(function(){setLoading(false);});},[]);var getInfo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(comp){var response,jsonData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://localhost:5000/by_company/\"+comp);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:jsonData=_context2.sent;setDicCompany(jsonData);return _context2.abrupt(\"return\",jsonData);case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0.message);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function getInfo(_x2){return _ref3.apply(this,arguments);};}();if(loading)return\"Loading...\";if(error)return\"Error!\";return/*#__PURE__*/_jsxs(\"div\",{className:\"btn-toolbar justify-content-center\",role:\"toolbar\",\"aria-label\":\"Toolbar with button groups\",children:[companies&&companies.companies_list?companies.companies_list.slice(0,5).map(function(value){return/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-2\",type:\"button\",onClick:handleClickButton,value:value,style:{width:150,minHeight:\"40px\",background:'#A7C3D1',borderColor:'white',color:\"#424242\"},children:value},value);}):null,/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModalCenter\",style:{background:'#A7C3D1',borderColor:'white',color:\"#424242\",justifyContent:'center',alignItems:'center',display:'flex'},children:\"+\"}),/*#__PURE__*/_jsx(PopoverCompanies,{companies:companies,handleClickButton:handleClickButton})]});};export default ToggleCompanies;","map":{"version":3,"sources":["/root/capstone_project/client/src/Components/ToggleCompanies.js"],"names":["React","useEffect","useState","PopoverCompanies","ToggleCompanies","setDicCompany","setPosition","companies","setCompanies","loading","setLoading","error","setError","handleClickButton","e","getInfo","target","value","fetch","then","response","ok","json","data","catch","console","finally","comp","jsonData","message","companies_list","slice","map","width","minHeight","background","borderColor","color","justifyContent","alignItems","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PopoverCompanies from \"./PopoverCompanies\";\n\nconst ToggleCompanies = ({ setDicCompany, setPosition }) => {\n\n    const [companies, setCompanies] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const handleClickButton = async (e) => {\n        setPosition(\"\")\n        await getInfo(e.target.value)\n    };\n\n    useEffect(() => {\n        fetch(\"http://localhost:5000/by_company\")\n            .then((response) => {\n                if (response.ok) {\n                    return response.json();\n                }\n                throw response;\n            })\n            .then(data => {\n                setCompanies(data);\n            })\n            .catch((error) => {\n                console.error(\"Error fetching data: \", error);\n                setError(error);\n            })\n            .finally(() => {\n                setLoading(false);\n            });\n    }, []);\n\n    const getInfo = async (comp) => {\n        try {\n            const response = await fetch(\"http://localhost:5000/by_company/\" + comp);\n            const jsonData = await response.json();\n            setDicCompany(jsonData)\n            return jsonData;\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n\n    if (loading) return \"Loading...\";\n    if (error) return \"Error!\";\n\n    return (\n\n        <div className=\"btn-toolbar justify-content-center\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\n            {companies && companies.companies_list ?\n                companies.companies_list.slice(0, 5).map(value => (\n                    <button\n                        className=\"btn btn-secondary mr-2\"\n                        type=\"button\"\n                        onClick={handleClickButton}\n                        value={value}\n                        key={value}\n                        style={{ width: 150, minHeight:\"40px\", background: '#A7C3D1', borderColor: 'white', color: \"#424242\" }}>\n                        {value}\n                    </button>\n                )) : null\n            }\n            <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-toggle=\"modal\"\n                data-target=\"#exampleModalCenter\"\n                style={{\n                    background: '#A7C3D1',\n                    borderColor: 'white',\n                    color: \"#424242\",\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    display: 'flex'\n                }}\n            >\n                +\n            </button>\n            <PopoverCompanies companies={companies} handleClickButton={handleClickButton} />\n        </div>\n    );\n};\n\nexport default ToggleCompanies;\n"]},"metadata":{},"sourceType":"module"}